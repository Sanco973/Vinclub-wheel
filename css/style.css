/* ============ VINCLUB WHEEL – FINAL CLEAN CSS ============ */
:root{
  /* Kích thước bánh – tự co giãn theo thiết bị */
  --size-wheel: clamp(360px, 70vmin, 720px);

  /* Tỉ lệ theo thiết kế của bạn */
  --btn-ratio: 0.15;   /* nút = 5% đường kính bánh */
  --ptr-ratio: 0.10;   /* pointer = 10% đường kính */
  --ptr-offset: -0.06; /* nhô lên khỏi mép bánh 6% đường kính */

  /* Hiệu ứng quay */
  --spin-duration: 5s;
  --spin-ease: cubic-bezier(.075,.8,.2,1);
}

/* Reset & layout cơ bản */
html{ box-sizing:border-box; height:100%; overflow:hidden; }
*,*::before,*::after{ box-sizing:inherit; margin:0; padding:0; }
body{
  min-height:100dvh;
  display:grid; place-items:center;
  background:url("BACKA4copy.png") center/cover no-repeat;
  overflow:hidden;
  font-family: Arial, Helvetica, sans-serif;
}

/* Thông báo nhỏ */
.msg{
  min-height:4rem;
  margin-top:.5rem;
  color:#fff;
  text-align:center;
  text-transform:capitalize;
}

/* Sân khấu bánh xe – khung vuông làm mốc canh giữa */
.main{ display:grid; place-items:center; width:100%; }
.wheel-stage{
  position:relative;
  width:var(--size-wheel);
  height:var(--size-wheel);
}

/* Bánh & ảnh overlay phủ kín khung vuông */
.wheel-stage > .wheel,
.wheel-stage > #myImage{
  position:absolute; inset:0;
  width:100%; height:100%;
}
ul.wheel{
  padding:0;
  border:1px solid rgb(0,12,184);
  border-radius:50%;
  list-style:none;
  overflow:hidden;
  transition: transform var(--spin-duration) var(--spin-ease);
  will-change: transform;
}
.wheel-stage > #myImage{
  transition: transform var(--spin-duration) ease-in-out;
  will-change: transform;
}
li{
  position:absolute; top:0; right:0; width:50%; height:50%;
  transform-origin:0% 100%;
  overflow:hidden;
}

/* Nút quay – luôn đúng tâm & đúng tỉ lệ */
.btn--wheel{
  position:absolute !important;
  top:50%; left:50%;
  transform:translate(-50%,-50%);
  width:calc(var(--size-wheel)*var(--btn-ratio));
  height:calc(var(--size-wheel)*var(--btn-ratio));
  background:url("btnQuay.png") center/cover no-repeat;
  border:none; border-radius:50%; cursor:pointer; z-index:5;
  animation:zoomBlink .75s infinite ease-in-out;
  transition:transform .3s ease, box-shadow .3s ease;
}
.btn--wheel:hover { transform:translate(-50%,-50%) scale(1.1); }
.btn--wheel:active{ transform:translate(-50%,-50%) scale(.95); }
.btn--wheel.no-animation{ animation:none; }
@keyframes zoomBlink{
  0%   { transform:translate(-50%,-50%) scale(1);   }
  50%  { transform:translate(-50%,-50%) scale(1.1); }
  100% { transform:translate(-50%,-50%) scale(1);   }
}

/* Pointer độc lập (chỉ dùng nếu KHÔNG vẽ pointer sẵn trong ảnh bánh) */
.pointer{
  position:absolute; left:50%;
  top:calc(var(--size-wheel)*var(--ptr-offset));
  transform:translateX(-50%);
  width:calc(var(--size-wheel)*var(--ptr-ratio));
  height:auto; object-fit:contain; z-index:6;

  /* Nhún theo trục Y nhưng vẫn giữ canh giữa theo X */
  animation: pointerBounce .55s infinite ease-in-out;
}
@keyframes pointerBounce{
  0%,100%{ transform: translate(-50%, -8px); }  /* nhô lên 8px */
  50%     { transform: translate(-50%, 0); }    /* về vị trí gốc */
}

/* Popup kết quả */
#popupSmall{ display:none; }
.popup-small{
  position:fixed; top:45%; left:50%; transform:translate(-50%,-45%);
  background:#fff; padding:20px; width:min(600px, 90vw); height:auto;
  box-shadow:0 8px 14px rgba(0,0,0,.2); border-radius:10px;
  z-index:9999;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  border:2px solid rgb(5,23,51);
}
.popup-content{
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  gap:15px; width:100%; text-align:center;
}
.popup-content p{ font-size:24px; color:rgb(5,23,51); }
.popup-content button{
  padding:12px 25px; background:rgb(5,23,51); color:#fff;
  border:0; border-radius:5px; cursor:pointer;
}
.popup-content button:hover{ background:rgb(5,23,51); }
#giftimg{
  width:100%; height:250px;
  background-size:contain; background-repeat:no-repeat; background-position:center;
  margin-bottom:20px;
}

/* Màn hình chờ + overlay kích hoạt âm thanh */
.waiting-screen{
  position:fixed; inset:0; background:#000;
  display:flex; justify-content:center; align-items:center;
  z-index:10000; visibility:hidden; opacity:0; transition:opacity .5s ease;
}
.waiting-screen.active{ visibility:visible; opacity:1; }
.waiting-screen video{ width:100%; height:100%; object-fit:cover; pointer-events:none; }

.overlay{
  position:fixed; inset:0; background:rgba(0,0,0,.7); color:#fff;
  display:flex; justify-content:center; align-items:center;
  font-size:20px; text-align:center;
  z-index:10001; visibility:hidden; opacity:0; transition:opacity .5s ease;
}
.overlay.active{ visibility:visible; opacity:1; }

/* Responsive tinh chỉnh */
@media (min-width:1024px){
  :root{ --size-wheel: clamp(480px, 64vmin, 820px); }
}
@media (orientation:landscape) and (max-height:480px){
  .wheel-stage{ transform:scale(.9); transform-origin:center; }
}
